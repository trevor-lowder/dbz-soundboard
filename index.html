<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DBZ SoundBoard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  </head>
  <body>
    <script>
        
        let currentAudio = null;

        const playAudio = (id, text) => {
            let audio = document.getElementById(id);
            document.getElementById("display").innerText = text;
            audio.play();
            currentAudio = audio;
        }
        const stopAudio = () => {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                document.getElementById("display").innerText = "Click a button or press the displayed key to play audio. Click again to stop.";
            }
        }

        window.document.onkeydown = function(e) {
            let keystroke = e.key.toUpperCase();
           if (currentAudio && currentAudio.id === keystroke) {
            stopAudio();
           } else {
            switch (keystroke) {
                case "Q":
                playAudio('Q');
                break;
                case "W":
                playAudio('W');
                break;
                case "E":
                playAudio('E');
                break;
                case "A": 
                playAudio("A");
                break;
                case "S":
                playAudio('S');
                break;
                case "D":
                playAudio("D");
                break;
                case "Z":
                playAudio('Z');
                break;
                case "X":
                playAudio('X');
                break;
                case "C":
                playAudio('C');
                break;
                default:
                stopAudio();
            } 
           }
        }
    </script>
    <div id="drum-machine" class="container" style="margin-top: 20rem;">
        <h1 class="d-flex justify-content-center align-items-center">DBZ SoundBoard</h1>
        <div class="col"> 
            <div class="text-center">Now Playing: <div id="display">Click a button or press the displayed key to play audio. Click again to stop.</div></div>
            <div class="col my-4 mx-4 d-flex justify-content-center">
                <button id="drum-0" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('Q', 'Vegeta Doesnt Care')">Q<audio src="./audio/vegeta-doesn't-care.mp3" class="clip" id="Q"></audio></button>
                <button id="drum-1" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('W', 'Vegetas Inspiration')">W<audio src="./audio/vegeta's-inspiration.mp3" class="clip" id="W"></audio></button>
                <button id="drum-2" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('E', 'KAMEHAMEHA!')">E<audio src="./audio/epic-goku-kamehameha.mp3" class="clip" id="E"></audio></button>
            </div>
            <div class="col my-4 mx-4 d-flex justify-content-center"> 
                <button id="drum-3" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('A', 'I wont let you destroy my world!')">A<audio src="./audio/goku-i-will-not-let-you-destroy-my-world.mp3" class="clip" id="A"></audio></button>
                <button id="drum-4" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('S', 'Goku goes SS3')">S<audio src="./audio/goku-transforming-super-saiyan-3.mp3" class="clip" id="S"></audio></button>
                <button id="drum-5" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('D', 'You Fool!')">D<audio src="./audio/goku-you-fool.mp3" class="clip" id="D"></audio></button>
            </div>
            <div class="col my-4 mx-4 d-flex justify-content-center">
                <button id="drum-6" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('Z', 'Next time on DBZ...')">Z<audio src="./audio/next-time-on-dragon-ball-z.mp3" class="clip" id="Z"></audio></button>
                <button id="drum-7" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('X', 'Ultra Instinct')">X<audio src="./audio/ultra-instinct-theme.mp3" class="clip" id="X"></audio></button>
                <button id="drum-8" class="drum-pad my-4 mx-4 btn btn-dark btn-lg" onclick="playAudio('C', 'DBZ Ending Theme')">C<audio src="./audio/dragon-ball-z-episode-ending-theme.mp3" class="clip" id="C"></audio></button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>